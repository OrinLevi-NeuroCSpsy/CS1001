# ייצוג טקסט - ASCII ו-Unicode

---

## הקשר בין תווים למספרים

### הגדרה פורמלית
**קידוד תווים (Character Encoding)** הוא מיפוי בין תווים (אותיות, ספרות, סימנים) למספרים שהמחשב יכול לאחסן ולעבד.

### הסבר אינטואיטיבי
המחשב "מבין" רק מספרים (0 ו-1). כדי לאחסן טקסט, צריך "מילון" שממיר כל תו למספר ייחודי.

```
'A' → 65 → 01000001₂
'a' → 97 → 01100001₂
```

---

## ASCII (American Standard Code for Information Interchange)

### הגדרה פורמלית
תקן קידוד מ-1963 שמגדיר 128 תווים, כל תו מיוצג ב-7 ביטים.

### טווח הערכים
- **0-31:** תווי בקרה (לא מודפסים)
- **32-126:** תווים מודפסים
- **127:** תו בקרה (DEL)

### טבלת ASCII חלקית (לשנן!)

| תו | קוד | תו | קוד | תו | קוד |
|----|-----|----|----|----|----|
| Space | 32 | '0' | 48 | 'A' | 65 |
| '!' | 33 | '1' | 49 | 'B' | 66 |
| '"' | 34 | ... | ... | ... | ... |
| ... | ... | '9' | 57 | 'Z' | 90 |
| | | | | 'a' | 97 |
| | | | | 'z' | 122 |

### דפוסים חשובים (לבחינה!)

```
'A' = 65      'a' = 97       '0' = 48
'B' = 66      'b' = 98       '1' = 49
...           ...            ...
'Z' = 90      'z' = 122      '9' = 57
```

**הפרש בין אות גדולה לקטנה:**
```
'a' - 'A' = 97 - 65 = 32
```

**המרה בין רישיות:**
```python
# אות גדולה לקטנה: הוסף 32
chr(ord('A') + 32)  # 'a'

# אות קטנה לגדולה: הורד 32
chr(ord('a') - 32)  # 'A'
```

**המרת ספרה-תו למספר:**
```python
digit_value = ord('7') - ord('0')  # 7
```

---

## מגבלות ASCII

### בעיה 1: רק 128 תווים
- **7 ביטים = 2⁷ = 128 אפשרויות בלבד**
- מספיק לאנגלית בסיסית, אבל...

### בעיה 2: אין תמיכה בשפות אחרות
- אין עברית: א, ב, ג...
- אין ערבית: ا, ب, ت...
- אין סינית: 中, 文...
- אין יוונית: α, β, γ...
- אין סמלים: €, ₪, ™...

### בעיה 3: Extended ASCII (לא תקני)
- הרחבות ל-8 ביטים (256 תווים)
- כל יצרן יצר טבלה משלו
- קבצים לא נפתחו נכון במחשבים אחרים
- "ג'יבריש" - �???

---

## Unicode

### הגדרה פורמלית
**Unicode** הוא תקן בינלאומי שמגדיר מספר ייחודי (Code Point) לכל תו בכל שפה בעולם.

### מאפיינים
| מאפיין | ערך |
|--------|-----|
| מספר תווים | מעל 140,000 |
| טווח | U+0000 עד U+10FFFF |
| תאימות | 128 התווים הראשונים = ASCII |

### סימון Code Point
```
U+0041 = 'A'
U+05D0 = 'א'
U+4E2D = '中'
U+1F600 = '😀'
```

### למה Unicode הכרחי?

1. **גלובליזציה:** אינטרנט עולמי, צריך לתמוך בכל השפות
2. **תקינה:** תקן אחד במקום עשרות טבלאות שונות
3. **תאימות:** ASCII הוא תת-קבוצה של Unicode
4. **אמוג'י:** סמלים מודרניים

### קידודים נפוצים (UTF)

| קידוד | תיאור | שימוש |
|-------|-------|-------|
| **UTF-8** | אורך משתנה (1-4 בתים) | אינטרנט, לינוקס, פייתון 3 |
| **UTF-16** | אורך משתנה (2-4 בתים) | Windows, Java |
| **UTF-32** | אורך קבוע (4 בתים) | שימוש פנימי |

### UTF-8 - הקידוד הנפוץ ביותר

**יתרונות:**
- תאימות לאחור עם ASCII
- חיסכון בזיכרון לטקסט אנגלי
- אין בעיית סדר בתים (endianness)

**אורך לפי טווח:**
| טווח | בתים | דוגמה |
|------|------|-------|
| U+0000 - U+007F | 1 | אנגלית, מספרים |
| U+0080 - U+07FF | 2 | עברית, ערבית |
| U+0800 - U+FFFF | 3 | סינית, יפנית |
| U+10000+ | 4 | אמוג'י |

---

## פונקציות בפייתון

### ord(char) - תו למספר
```python
ord('A')   # 65
ord('א')   # 1488
ord('😀')  # 128512
```

### chr(num) - מספר לתו
```python
chr(65)     # 'A'
chr(1488)   # 'א'
chr(128512) # '😀'
```

### קידוד ופענוח מחרוזות
```python
# מחרוזת לבתים (encode)
text = "שלום"
encoded = text.encode('utf-8')  # b'\xd7\xa9\xd7\x9c\xd7\x95\xd7\x9d'

# בתים למחרוזת (decode)
decoded = encoded.decode('utf-8')  # "שלום"
```

---

## שאלות בחינה טיפוסיות

### שאלה 1: מה יודפס?
```python
print(ord('C') - ord('A'))
```
**תשובה:** `2` (כי 67 - 65 = 2)

---

### שאלה 2: מה יודפס?
```python
print(chr(ord('a') + 3))
```
**תשובה:** `'d'` (כי 97 + 3 = 100 = 'd')

---

### שאלה 3: כתוב פונקציה להמרת אות קטנה לגדולה
```python
def to_upper(char):
    if 'a' <= char <= 'z':
        return chr(ord(char) - 32)
    return char
```

---

### שאלה 4: כתוב פונקציה שבודקת אם תו הוא ספרה
```python
def is_digit(char):
    return '0' <= char <= '9'
    # או: return 48 <= ord(char) <= 57
```

---

### שאלה 5: מה ההבדל בין ASCII ל-Unicode?
**תשובה:**
- ASCII: 128 תווים, 7 ביטים, אנגלית בלבד
- Unicode: מעל 140,000 תווים, כל השפות והסמלים

---

### שאלה 6: מהו ערך ה-ASCII של '5'?
```python
ord('5')  # 53
```
**שים לב:** '5' (תו) ≠ 5 (מספר)!

---

## טעויות נפוצות

### טעות 1: בלבול בין תו למספר
```python
'5' + '3'   # '53' (שרשור מחרוזות)
5 + 3       # 8 (חיבור מספרים)
int('5') + int('3')  # 8
```

### טעות 2: שכחת ההפרש 32
```python
# שגוי - הפרש לא נכון
chr(ord('a') - 20)  # 'M' לא 'A'!

# נכון
chr(ord('a') - 32)  # 'A'
```

### טעות 3: בלבול בין ord ל-chr
```python
ord('A')  # 65 (תו → מספר)
chr(65)   # 'A' (מספר → תו)
```

---

## סיכום נקודות חשובות

- [ ] ASCII: 128 תווים, 'A'=65, 'a'=97, '0'=48
- [ ] הפרש גדולה-קטנה = 32
- [ ] `ord()` - תו למספר, `chr()` - מספר לתו
- [ ] Unicode תומך בכל השפות
- [ ] UTF-8 הוא הקידוד הנפוץ ביותר
- [ ] תו '5' ≠ מספר 5
